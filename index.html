<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Accidental Design</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/moon.css" id="theme">
    <link rel="stylesheet" href="css/quote_bubbles.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

    <style>
    h1.protip {
      font-size: 3.25em;
      text-decoration: underline;
      margin-bottom: 1em;
    }
    section img.no-border {
      border:none;
      box-shadow:none;
    }
    </style>
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>I Accidentally Wrote My Best Code</h1>
          <h3>Michael Ries</h3>
          <p><small>@hqmq_</small></p>
          <aside class="notes">
            This talk is a story about a project that surprised and delighted me. Along the way we will visit some protips.
          </aside>
        </section>

        <section data-background="images/pony.png">
          <h1 class="fragment">I Love MWRC</h1>
          <aside class="notes">
            One thing I have learned about MWRC is that more ponies means more happy.
          </aside>        
        </section>

        <section>
          <h2>Disclaimer</h2>
          <img src="images/its_okay_to_not_like_things.jpg" />
          <aside class="notes">
            This talk contains derogatory comments about code. This was from a previous job (not MoneyDesktop) and I liked the people I worked with so I won't name the company.
          </aside>
        </section>

        <section>
          <div class="triangle-border right">
            ACME is going to start sending us registrations. Can you make sure we flag them for marketing?
          </div>
          <div class="triangle-border left fragment">
            Sure thing boss!
          </div>
        </section>

        <section data-background="images/php_registration.png">
          <aside class="notes">
            This is just a random snippet of bad PHP code. The actual code was much worse than this. The method I needed to change was over 350 lines of conditionals and loops that contained all of the logic about how we persist a registration in our database.

            There were no tests.
          </aside>
        </section>

        <section>
          <div class="triangle-border right">
            How long will it take?
          </div>
          <aside class="notes">
            One thing was clear. This was going to be a re-write, but it would need to be backwards compatible.

            I couldn't afford to do a full rewrite now, but I started thinking about what the new system would look like.
          </aside>
        </section>

        <section>
          <h1>...2 months later</h1>
          <aside class="notes">
            For 2 months I tried to find time to work on this system, but I only ever got as far as describing it to other people.

            Something intereseting happened as I found myself describing the system over and over
          </aside>
        </section>

        <section>
          <h2>...a pipeline...</h2>
          <h2 class="fragment">...with logs...</h2>
          <h2 class="fragment">...vendor-specific mapping...</h2>
          <aside class="notes">
            What is wrong with this description? IT DOESN'T MEAN ANYTHING.

            I started off trying to describe my design in terms of programming patterns and solutions.
          </aside>
        </section>

        <section>
          <h2>...registration office at a University...</h2>
          <h2 class="fragment">...with paperwork...</h2>
          <h2 class="fragment">...translators for foreign students...</h2>
          <aside class="notes">
            After many blank stares I one day tried to explain it to someone who was not a programmer and the words changed...

            Later when I would describe it other programmers I kept using the metaphor words because they had more context.
          </aside>
        </section>

        <section data-background="#55BB55">
          <h1 class="protip">Protip</h1>
          <h1>System Metaphor</h1>
          <h4> - Kent Beck</h4>
          <aside class="notes">
            One of the practices from Kent Beck's XP Explained.

            One of the best ways to make your code more discoverable or readable is to leverage shared experience.
          </aside>
        </section>

        <section data-background="#5555BB">
          <h1 class="protip">Protip</h1>
          <h1>Talk To People Verbally</h1>
          <h1 class="fragment">Write It Down</h1>
          <aside class="notes">
            One of the best ways to create this system metaphor is to talk to people. Talk to people both in the team and on the edges of the team.

            When you write the code it will be in the form of written language so take a little time to write down the metaphor.
          </aside>
        </section>

        <section>
          <img src="images/enough_talk.jpg" />
          <aside class="notes">
            Now I had a metaphor that helped to inform how the system would be shaped. But I wanted make some more concrete progress.

            So I started to draw.
          </aside>
        </section>

        <section data-background="images/system_diagram_flat.jpeg">
          <aside class="notes">
            What is wrong with this picture?
            My first clue was that the picture was harder to explain than the story.
            My second clue was that everyone yelled at me that I didn't understand UML and please stop trying.
            It treats the whole system as a single-level abstraction.
          </aside>
        </section>

        <section>
          <img src="images/domain_diagram_high_level.jpeg" />
          <aside class="notes">
            Soon I started drawing the picture to match the story.
            I drew less things.
          </aside>
        </section>

        <section data-background="images/system_diagram_domain.jpeg">
          <aside class="notes">
            I could dive into any one part of the diagram and make a more detailed metaphor about that part of the story.
          </aside>
        </section>

        <section data-background="#55BB55">
          <h1 class="protip">Protip</h1>
          <h1>Intentional Abstraction</h1>
          <aside class="notes">
            It keeps the number of objects you need to think about low.
          </aside>
        </section>

        <section data-background="#5555BB">
          <h1 class="protip">Protip</h1>
          <h1>Draw BIG</h1>
          <h3>Draw Small</h3>
          <aside class="notes">
            Draw your system diagram with very few objects. Try to draw it on a 3x5 card or only using fat crayons.

            Draw your processes with many objects. You are going to want to make small objects so give yourself room to make lots of them.
          </aside>
        </section>

        <section data-background="rgb(108,154,40)">
          <img src="images/keep_calm.png" class="no-border" />
          <aside class="notes">
            Now it was time to start writing some code. I told my boss that I would not make any more updates to the old crappy PHP code. So the next time there was a new vendor I estimated a bit more time and got to work.
            It should not be a surprise to you at this point that the first version was kind of sad.
          </aside>
        </section>

        <section>
          <h2>Why Your First Idea Can Blind You to a Better One</h2>
          <h3> - Merim BilaliÄ‡ and Peter McLeod</h3>
          <h4>http://www.scientificamerican.com/article/why-your-first-idea-can-blind-you-to-better-idea/</h4>
          <aside class="notes">
            On a multiple choice test our first instinct is more often correct. But in more complex problems our initial reaction is much less successful.

            This article talks about an experiment from 1942 by an American psychologist Abraham Luchins.
          </aside>
        </section>

        <section data-background="images/experiment_1.jpeg">
          <aside class="notes">
            First Luchins asked people how they could measure out exactly 100 units of water given three containers.
          </aside>
        </section>

        <section data-background="images/experiment_2.jpeg">
          <aside class="notes">
            Next he asked them to measure out exactly 20 units of water using these three containers. People had a harder time solving this problem than the first because they kept trying to use all three containers.
          </aside>
        </section>

        <section data-background="#55BB55">
          <h1 class="protip">Protip</h1>
          <h1>Iterative Refinement</h1>
        </section>

        <section data-background="#5555BB">
          <h1 class="protip">Protip</h1>
          <h1>Your First Thought Is Wrong</h1>
          <aside class="notes">
            "If it isn't worth arguing about, it probably isn't worth shipping." ~ Brandon Dewitt

            You don't have to burn everything down and you don't have to wait to ship it, but you do have to make it better next time.
          </aside>
        </section>

        <section>
          <div class="triangle-border right">
            Can we fix registrations from X?
          </div>
          <div class="triangle-border left fragment">
            Yes, lets migrate them to the new system.
          </div>
          <aside class="notes">
            For the next two months we migrated most of the vendors to the new API. I would spend 2-3 hours a week on our new system. Each time I would try to clean up one mess. Eventually there were only a couple of people using the old API so we migrated them too even though we didn't need to fix anything. For every existing client we only made them change the URL.
          </aside>
        </section>

        <section>
          <img src="images/tetris.jpg" class="no-border" />
          <aside class="notes">
            The system supported more complexity than the previous iterations. There were not 300+ line methods. Making changes felt fearless.
          </aside>
        </section>

        <section data-background="#5555BB">
          <h2>Protip</h2>
          <h1>Sleep On It</h1>
          <aside class="notes">
            Your big ball of mud was good enough to get you to today. You aren't bankrupt (hopefully) so the rewrite doesn't have to be done this week.            
          </aside>
        </section>

        <section data-background="images/rodin_thinker.jpg">
          <aside class='notes'>
            "When was the last time you thought hard about something for an hour? A Day? Over the course of a month?" ~Rich Hickey (Hammock Driven Development)

            There are lots of things you can do to code faster, but how do you think faster? Can you make inspiration strike?

            Working more hours in a day did not lead me to better software or more software.
          </aside>
        </section>

        <section>
          <h2>Duplication is far cheaper than the wrong abstraction</h2>
          <h3> - Sandi Metz</h3>
          <h4>"All the little things" Ruby On Ales 2014</h4>
          <aside class='notes'>
            At a recent talk Sandi Metz said...
            I am in no way qualified to change Sandi's words, but...
          </aside>
        </section>

        <section>
          <h2>[almost anything] is far cheaper than the wrong abstraction</h2>
        </section>

        <section data-background="#000000">
          <h1>End</h1>
          <h4>hqmq.github.io/presentation-accidental-design</h4>
        </section>
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
